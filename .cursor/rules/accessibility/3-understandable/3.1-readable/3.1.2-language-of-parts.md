---
title: "3.1.2 Language of Parts"
description: "The human language of each passage or phrase in the content can be programmatically determined"
category: "Understandable"
level: "AA"
tags: ["language", "html", "accessibility", "screen-readers", "multilingual"]
ai_instruction:
  {
    detection_agent:
      {
        id: "content_language_validator",
        name: "Content Language Validator",
        scope: "inline-content",
        validation_steps:
          [
            {
              id: "language_change_detection",
              action: "Identify content segments in different languages",
              validation: "Content in different languages must be identified",
              severity: "High",
              error_template:
                {
                  message: "Unmarked language change detected",
                  xpath: "{element_path}",
                  fix: "Add lang attribute with appropriate language code",
                },
            },
            {
              id: "lang_attribute_presence",
              action: "Check lang attribute on elements with different languages",
              validation: "Elements with different languages must have lang attribute",
              severity: "High",
              error_template:
                {
                  message: "Missing lang attribute on language change",
                  xpath: "{element_path}",
                  fix: "Add lang attribute to element containing foreign language",
                },
            },
            {
              id: "lang_code_validity",
              action: "Validate language codes on elements with lang attribute",
              validation: "Language codes must be valid BCP 47 tags",
              severity: "High",
              error_template:
                {
                  message: "Invalid language code on element",
                  xpath: "{element_path}/@lang",
                  fix: "Use valid BCP 47 language code",
                },
            },
            {
              id: "language_boundary_check",
              action: "Verify language change boundaries are properly marked",
              validation: "Language changes must be marked at appropriate boundaries",
              severity: "Medium",
              error_template:
                {
                  message: "Incorrect language change boundary",
                  xpath: "{element_path}",
                  fix: "Adjust element boundaries to properly encapsulate language change",
                },
            },
            {
              id: "language_inheritance",
              action: "Check language inheritance in nested elements",
              validation: "Nested elements inherit language unless explicitly changed",
              severity: "Medium",
              error_template:
                {
                  message: "Unnecessary language declaration on nested element",
                  xpath: "{element_path}",
                  fix: "Remove redundant lang attribute if same as parent",
                },
            },
          ],
        output_format:
          {
            findings:
              {
                type: "Array<LanguageIssue>",
                format:
                  {
                    issue_id: "string",
                    step_id: "string",
                    location: { xpath: "string", selector: "string" },
                    severity: "High | Medium",
                    evidence:
                      {
                        found: "string",
                        expected: "string",
                        context: "string",
                      },
                    fix: { description: "string", code: "string" },
                  },
              },
            coverage: { elements_checked: "number", issues_found: "number" },
          },
        example_response:
          {
            findings:
              [
                {
                  issue_id: "lang_part_001",
                  step_id: "language_change_detection",
                  location:
                    { xpath: "//p[1]/text()[2]", selector: "p:first-child" },
                  severity: "High",
                  evidence:
                    {
                      found: "Unmarked text 'bonjour' in French",
                      expected: "Text in different language marked with lang attribute",
                      context: "The word bonjour means hello",
                    },
                  fix:
                    {
                      description: "Wrap foreign language text in element with lang attribute",
                      code: 'The word <span lang="fr">bonjour</span> means hello',
                    },
                },
              ],
            coverage: { elements_checked: 12, issues_found: 1 },
          },
      },
  }
---

# 3.1.2 Language of Parts

## Requirements

- The human language of each passage or phrase in content must be programmatically determined
- Language changes must be marked using the lang attribute
- Language codes must be valid BCP 47 language tags
- Language changes must be marked at appropriate boundaries
- Language inheritance must be properly handled in nested elements

## Implementation Guide

### 1. Marking Language Changes

```tsx
// ❌ Avoid - Common Mistakes
<p>The French word bonjour means hello</p>  // Unmarked language change
<p>Le <span>café</span> est bon</p>  // Missing lang on French content
<p lang="fr">Bonjour. <span lang="fr">Comment allez-vous?</span></p>  // Redundant lang

// ✅ Do - Best Practices
<p>The French word <span lang="fr">bonjour</span> means hello</p>
<p lang="fr">Bonjour. Comment allez-vous?</p>
<p>The Japanese term <span lang="ja">俳句</span> means haiku</p>
```

### 2. Language Inheritance

```tsx
// ❌ Avoid - Common Mistakes
<blockquote lang="es">
  <p lang="es">Hola mundo</p>  // Redundant lang attribute
  <footer lang="es">- Author</footer>  // Unnecessary lang
</blockquote>

// ✅ Do - Best Practices
<blockquote lang="es">
  <p>Hola mundo</p>  // Inherits es
  <footer>- <span lang="en">Author</span></footer>  // Only mark different language
</blockquote>
```

### 3. React Component Example

```tsx
interface MultilingualTextProps {
  text: string
  lang: string
  children: React.ReactNode
}

function MultilingualText({ text, lang, children }: MultilingualTextProps) {
  return (
    <span lang={lang}>
      {text}
      {children}
    </span>
  )
}

// Usage
;<p>
  In French, hello is <MultilingualText lang="fr">bonjour</MultilingualText>
</p>
```

## Validation Checklist

1. **Language Change Detection**

   - [ ] Content in different languages is identified
   - [ ] Language changes are properly marked
   - [ ] Language codes are valid
   - [ ] Language boundaries are appropriate
   - [ ] Language inheritance is correct

2. **Technical Implementation**
   - [ ] Components handle language changes consistently
   - [ ] Language attributes are properly applied
   - [ ] No redundant language declarations
   - [ ] Language changes respect document structure
   - [ ] Proper handling of multilingual content

## Common Mistakes

1. **Content Structure**

   - Not marking language changes
   - Incorrect language boundaries
   - Redundant language declarations
   - Missing language attributes
   - Over-marking language changes

2. **Technical Issues**
   - Invalid language codes
   - Improper language inheritance
   - Inconsistent language marking
   - Poor component implementation
   - Incorrect language detection

## Impact Assessment

Poor implementation affects:

1. **Screen Reader Users**

   - Incorrect pronunciation of foreign words
   - Confusing language switches
   - Poor content comprehension
   - Disorienting reading experience
   - Misinterpretation of content

2. **Translation Tools**

   - Incorrect language detection
   - Poor translation quality
   - Mixed language confusion
   - Translation errors
   - Context loss

3. **Accessibility Tools**
   - Incorrect language processing
   - Poor text-to-speech output
   - Confusing content structure
   - Reduced tool effectiveness
   - Navigation issues

## Resources

- [W3C Language of Parts](https://www.w3.org/WAI/WCAG21/Understanding/language-of-parts)
- [HTML lang Attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang)
- [BCP 47 Language Tags](https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry)
- [Multilingual Content Best Practices](https://www.w3.org/International/articles/language-tags/)
- [React Internationalization](https://react.i18next.com/)
